CREATE DATABASE FOCUSTRACKER;

CREATE TABLE USUARIO(
	ID INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	EMAIL VARCHAR(100) NOT NULL,
	SENHA VARCHAR(50) NOT NULL,
	TOKEN VARCHAR(20),
	EXPIRATION DATETIME,
	NOME VARCHAR(500) NOT NULL,
	DTNASC DATE NOT NULL,
	CEP VARCHAR(10) NOT NULL
);

ALTER TABLE `USUARIO` ADD UNIQUE INDEX(`EMAIL`);

CREATE TABLE DOENCA(
	INT ID NOT NULL AUTO_INCREMENT PRIMARY KEY,
	NOME VARCHAR(30),
	FOCO BOOLEAN DEFAULT 'F'
);

INSERT INTO DOENCA (NOME) VALUES ('Corona VÃ­rus');
INSERT INTO DOENCA (NOME) VALUES ('Dengue');
INSERT INTO DOENCA (NOME) VALUES ('Zika');
INSERT INTO DOENCA (NOME) VALUES ('Foco Dengue');

CREATE TABLE BAIRRO (
	INT ID AUTO_INCREMENT NOT NULL PRIMARY KEY,
	NOME VARCHAR(500),
	CEP_INICIAL VARCHAR(10),
	CEP_FINAL VARCHAR(10)
)

CREATE TABLE CASO(
	INT ID NOT NULL AUTO_INCREMENT PRIMARY KEY,
	INT DOENCA -> FK DOENCA
	BOOLEAN CONFIRMADO NOT NULL DEFAULT 'F';
	BOOLEAN DESCARTADO NOT NULL DEFAULT 'F';
	BOOLEAN CURADO NOT NULL DEFAULT 'F';
	BOOLEAN OBITO NOT NULL DEFAULT 'F';
	OBSERVACAO VARCHAR(500),
	LATITUDE NUMERIC,
	LONGITUDE NUMERIC
	(CEP OU BAIRRO) -> FK TABELA DE BAIRRO
);